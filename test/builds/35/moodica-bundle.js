!function e(t,n,i){function o(l,s){if(!n[l]){if(!t[l]){var a="function"==typeof require&&require;if(!s&&a)return a(l,!0);if(r)return r(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[l]={exports:{}};t[l][0].call(c.exports,function(e){var n=t[l][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.overlays={}}return o(e,[{key:"close",value:function(e){this.overlays[e]=!1}},{key:"get",value:function(e){return this.overlays[e]}},{key:"open",value:function(e){this.overlays[e]=!0}},{key:"isActive",value:function(){var e=[];for(var t in this.overlays)e.push(t);return e.length>0}}]),e}();n["default"]=r},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={bindings:{series:"<",collection:"<",episode:"<",clip:"<",playlist:"<",slug:"<",page:"<",replace:"<"},controllerAs:"vm",templateUrl:["$element","$attrs",function(e,t){return t.collection?"components/thumbnail/collection-thumbnail.html":t.episode?"components/thumbnail/episode-thumbnail.html":t.clip?"components/thumbnail/clip-thumbnail.html":"components/thumbnail/series-thumbnail.html"}]};n["default"]=i},{}],3:[function(e,t,n){"use strict";function i(e,t){var n=!1;if(0===e.indexOf("@@"))n=!0;else{var i=["http:","https:","/"];i.forEach(function(e){0===t.indexOf(e)&&(n=!0)})}return n}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t){return function(n,o){var r;if(e.build&&e.build.id&&(r=e.build.id),n&&r){if(i(r,n))return n;if(n="builds/"+r+"/"+n,o){var l=t.location.href.split("/").slice(0,3).join("/");n=l+"/"+n}}return n}};o.$inject=["platform","$window"],n["default"]=o},{}],4:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.$window=t,this.detectjs=n}return o(e,null,[{key:"$inject",get:function(){return["$window","detectjs"]}}]),o(e,[{key:"getUserAgent",value:function(){return this.detectjs.parse(this.$window.navigator.userAgent)}},{key:"getModel",value:function(){return{model:this.getUserAgent().browser.name,os:this.getUserAgent().os.name}}},{key:"isiOS",value:function(){return this.getUserAgent().os.name.indexOf("iOS")>-1?!0:!1}},{key:"isAndroid",value:function(){return this.getUserAgent().os.name.indexOf("Android")>-1?!0:!1}},{key:"isMobile",value:function(){return"Mobile"===this.getUserAgent().device.type||"Tablet"===this.getUserAgent().device.type||this.isAndroid()||this.isiOS()?!0:!1}}]),e}();n["default"]=r},{}],5:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){t.otherwise("/"),e.state("404",{parent:"language",controller:l["default"],controllerAs:"vm",templateUrl:"views/404/error-404-view.html"})}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./error-404-view-controller"),l=i(r);o.$inject=["$stateProvider","$urlRouterProvider"],n["default"]=o},{"./error-404-view-controller":6}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function r(){i(this,r),this.errors=[]};n["default"]=o},{}],7:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=e("views.module"),r=i(o),l=e("components.module"),s=i(l),a=e("filters.module"),u=i(a),c=["platform.js","ui.router","focus-if","ngAnimate","angulartics","angulartics.google.analytics","angulartics.google.tagmanager","angular-clipboard"];angular.module("moodica",[].concat(c,[r["default"].name,s["default"].name,u["default"].name])).config(["platformProvider","$compileProvider","$locationProvider","platformjs.metadataProvider",function(e,t,n,i){angular.merge(e.config,window.appConfig),t.debugInfoEnabled(!1),n.html5Mode(!0),i.setDefaults({title:"Watch Oddly Satisfying Videos on Moodica",description:"Watch relaxing videos that lift your mood, calm anxiety, help you sleep, or set the ambiance in any room. Moodica is free on desktop, Apple TV and Fire TV. Samsung coming soon."})}]).service("detectjs",function(){return window.detect})},{"components.module":8,"filters.module":44,"views.module":47}],8:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("components/overlay/overlay-service"),r=i(o),l=e("services/email-capture/email-capture-service"),s=i(l),a=e("services/video-analytics/video-analytics-service"),u=i(a),c=e("components/thumbnail/thumbnail-component"),d=i(c),f=e("services/user-agent/user-agent-service"),h=i(f),v=e("components/application-container/application-container-component"),p=i(v),m=e("components/application-header/application-header-component"),y=i(m),b=e("components/browse-overlay/browse-overlay-component"),g=i(b),w=e("components/collection-slider/collection-slider-container"),S=i(w),k=e("components/collection-slider/collection-slider-component"),_=i(k),O=e("components/collection-slider-item/collection-slider-item-component"),I=i(O),M=e("components/touch-slider/touch-slider-component"),j=i(M),$=e("components/subscribe-overlay/subscribe-overlay-component"),C=i($),P=e("components/about-overlay/about-overlay-component"),x=i(P),A=e("components/image-loader/image-loader-component"),E=i(A),T=e("components/intro-overlay/intro-overlay-component"),L=i(T),U=e("components/email-capture-form/email-capture-form-component"),F=i(U),V=e("components/touch-slider-item/touch-slider-item-directive"),D=i(V),N=e("components/moodica-player/moodica-player-component"),B=i(N),K=e("components/is-mouse-active/is-mouse-active-directive"),q=i(K),R=e("components/mobile-wall/mobile-wall-component"),W=i(R),z=e("components/get-the-link/get-the-link-component"),H=i(z),J=e("components/mute-button/mute-button-component"),Y=i(J),G=angular.module("moodica.components",[]).service("OverlayService",r["default"]).service("EmailCaptureService",s["default"]).service("VideoAnalyticsService",u["default"]).service("videojs",function(){return window.videojs}).service("UserAgentService",h["default"]).component("applicationContainer",p["default"]).component("applicationHeader",y["default"]).component("browseOverlay",g["default"]).component("collectionSliderContainer",S["default"]).component("collectionSlider",_["default"]).component("collectionSliderItem",I["default"]).component("emailCaptureForm",F["default"]).component("touchSlider",j["default"]).component("moodicaPlayer",B["default"]).component("imageLoader",E["default"]).component("introOverlay",L["default"]).component("subscribeOverlay",C["default"]).component("aboutOverlay",x["default"]).component("mobileWall",W["default"]).component("getTheLink",H["default"]).component("muteButton",Y["default"]).component("thumbnail",d["default"]).directive("touchSliderItem",function(){return new D["default"]}).directive("isMouseActive",function(){return new q["default"]});n["default"]=G},{"components/about-overlay/about-overlay-component":9,"components/application-container/application-container-component":11,"components/application-header/application-header-component":13,"components/browse-overlay/browse-overlay-component":15,"components/collection-slider-item/collection-slider-item-component":18,"components/collection-slider/collection-slider-component":20,"components/collection-slider/collection-slider-container":22,"components/email-capture-form/email-capture-form-component":23,"components/get-the-link/get-the-link-component":25,"components/image-loader/image-loader-component":27,"components/intro-overlay/intro-overlay-component":29,"components/is-mouse-active/is-mouse-active-directive":31,"components/mobile-wall/mobile-wall-component":32,"components/moodica-player/moodica-player-component":35,"components/mute-button/mute-button-component":36,"components/overlay/overlay-service":1,"components/subscribe-overlay/subscribe-overlay-component":38,"components/thumbnail/thumbnail-component":2,"components/touch-slider-item/touch-slider-item-directive":40,"components/touch-slider/touch-slider-component":42,"services/email-capture/email-capture-service":45,"services/user-agent/user-agent-service":4,"services/video-analytics/video-analytics-service":46}],9:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./about-overlay-controller"),r=i(o),l={controller:r["default"],templateUrl:"components/about-overlay/about-overlay.html"};n["default"]=l},{"./about-overlay-controller":10}],10:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("components/overlay/generic-overlay-controller"),u=i(a),c=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.overlayKey="about",n}return l(t,e),s(t,null,[{key:"$inject",get:function(){return["OverlayService"]}}]),t}(u["default"]);n["default"]=c},{"components/overlay/generic-overlay-controller":37}],11:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./application-container-controller"),r=i(o),l={controller:r["default"],templateUrl:"components/application-container/application-container.html"};n["default"]=l},{"./application-container-controller":12}],12:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.UserAgentService=t,this.isMouseActive=!1}return o(e,null,[{key:"$inject",get:function(){return["UserAgentService"]}}]),o(e,[{key:"setMouseActive",value:function(e){this.isMouseActive=e}},{key:"isMobileBrowser",value:function(){return this.UserAgentService.isMobile()}}]),e}();n["default"]=r},{}],13:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./application-header-controller"),r=i(o),l={bindings:{isBodyMouseActive:"<"},controller:r["default"],templateUrl:"components/application-header/application-header.html"};n["default"]=l},{"./application-header-controller":14}],14:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.OverlayService=t}return o(e,null,[{key:"$inject",get:function(){return["OverlayService"]}}]),o(e,[{key:"subscribe",value:function(){this.OverlayService.open("subscribe")}},{key:"about",value:function(){this.OverlayService.open("about")}},{key:"close",value:function(){this.OverlayService.close("subscribe"),this.OverlayService.close("about"),this.OverlayService.close("browse")}},{key:"isIntroActive",get:function(){return this.OverlayService.get("intro")}},{key:"isSubscribeActive",get:function(){return this.OverlayService.get("subscribe")}},{key:"isAboutActive",get:function(){return this.OverlayService.get("about")}},{key:"isBrowseActive",get:function(){return this.OverlayService.get("browse")}},{key:"classes",get:function(){return{"is-intro-active":this.isIntroActive}}}]),e}();n["default"]=r},{}],15:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./browse-overlay-controller"),r=i(o),l={controller:r["default"],controllerAs:"vm",templateUrl:"components/browse-overlay/browse-overlay.html"};n["default"]=l},{"./browse-overlay-controller":16}],16:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("components/overlay/generic-overlay-controller"),u=i(a),c=function(e){function t(e,n,i){o(this,t);var l=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return l.CollectionService=n,l.$transitions=e,l.collections=[],l.overlayKey="browse",l}return l(t,e),s(t,null,[{key:"$inject",get:function(){return["$transitions","platformjs.collection","OverlayService"]}}]),s(t,[{key:"$onInit",value:function(){var e=this;this.fetchCollections(),this.$transitions.onStart({},function(){e.close()})}},{key:"fetchCollections",value:function(){var e=this;this.CollectionService.getItems({slug:"browse-menu-collections"}).then(function(t){e.collections=t.collectionItems,e.fetchChildren()})}},{key:"fetchChildren",value:function(){var e=this;this.collections.forEach(function(t){e.CollectionService.getItems(t.item).then(function(e){t.item.metadata.images=e.collectionItems[0].item.images})})}}]),t}(u["default"]);n["default"]=c},{"components/overlay/generic-overlay-controller":37}],17:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o,r,l){i(this,e),this.CollectionService=o,this.OverlayService=r,this.UserAgentService=l,this.screenfull=t.screenfull,this.$timeout=n,this.index=this.index||0,this.loadCondition=this.loadCondition,this.sliderOptions={speed:800},this.collectionItems=[],this.activeIndex=null,this.currentIndex=0,this.isMouseActive=!1,this.isPosterLoading=!1,this.isVideoLoading=!1,this.slider=null}return o(e,null,[{key:"$inject",get:function(){return["$window","$timeout","platformjs.collection","OverlayService","UserAgentService"]}}]),o(e,[{key:"$onChanges",value:function(){var e=this;this.loadCondition&&0===this.collectionItems.length?this.loadCollection(this.parent.collectionItems[this.index].slug).then(function(t){return e.processCollection(t)}).then(function(t){return e.collectionItems=t}):this.loadCondition&&this.slider?this.slider.enableKeyboardControl():this.slider&&this.slider.disableKeyboardControl(),this.isMuted=this.UserAgentService.isMobile()?!0:!1}},{key:"loadCollection",value:function(e){return this.CollectionService.getItems({slug:e})}},{key:"processCollection",value:function(e){var t=e.collectionItems.map(function(e){return e.item});return this.parent.initialIndex===this.index?this.initialIndex=Math.min(this.parent.initialChild,t.length-1):this.initialIndex=0,this.currentIndex=this.activeIndex=this.initialIndex,t}},{key:"setCurrentIndex",value:function(e){this.currentIndex=e}},{key:"setActiveIndex",value:function(e){this.activeIndex=e,this.isMuted=this.UserAgentService.isMobile()?!0:!1}},{key:"setSlider",value:function(e){this.slider=e,this.slider.on("onSlideChangeEnd",this._onSlideChangeEnd.bind(this))}},{key:"slideNext",value:function(){this.slider&&(this.currentIndex===this.collectionItems.length-1?this.slider.slideTo(0):this.slider.slideNext())}},{key:"slidePrev",value:function(){this.slider&&(0===this.currentIndex?this.slider.slideTo(this.collectionItems.length-1):this.slider.slidePrev())}},{key:"showBrowse",value:function(){this.OverlayService.close("about"),this.OverlayService.open("browse")}},{key:"toggleFullscreen",value:function(){this.screenfull.toggle()}},{key:"toggleMute",value:function(){this.isMuted=!this.isMuted}},{key:"select",value:function(){this.parent.setSelectedIndex(this.index),this.parent.setCurrentChild(this.currentIndex)}},{key:"onLinkCopySuccess",value:function(){var e=this;this.isClipboardMessageActive=!0,this.$timeout(function(){e.isClipboardMessageActive=!e.isClipboardMessageActive},5e3)}},{key:"onMouseIsActive",value:function(e){this.isMouseActive=e}},{key:"onPosterLoading",value:function(){this.isPosterLoading=!0}},{key:"onPosterLoaded",value:function(){this.isPosterLoading=!1}},{key:"onVideoLoading",value:function(){this.isVideoLoading=!0}},{key:"onVideoLoaded",value:function(){this.isVideoLoading=!1}},{key:"getSlidePosterVisibility",value:function(e){return(this.isAdjacent||this.isCurrent)&&Math.abs(this.currentIndex-e)<=1}},{key:"getSlideVideoVisibility",value:function(e){return this.isActive&&this.activeIndex===e}},{key:"_onSlideChangeEnd",value:function(e){this.currentIndex=e.activeIndex,this.parent&&this.parent.setCurrentChild(this.currentIndex)}},{key:"isActive",get:function(){return this.parent.activeIndex===this.index}},{key:"isCurrent",get:function(){return this.parent.currentIndex===this.index}},{key:"isSelected",get:function(){return this.parent.selectedIndex===this.index}},{key:"isAdjacent",get:function(){return 1===Math.abs(this.parent.currentIndex-this.index)}},{key:"isAfter",get:function(){return!!(this.parent.currentIndex<this.index)}},{key:"isBefore",get:function(){return!!(this.parent.currentIndex>this.index)}},{key:"isHidden",get:function(){return null!==this.parent.selectedIndex&&this.parent.selectedIndex!==this.index}},{key:"isPreviewed",get:function(){return null!==this.parent.activeIndex&&!this.isHidden}},{key:"isSliderNavigationActive",get:function(){return!(this.OverlayService.get("subscribe")||this.OverlayService.get("about")||this.OverlayService.get("browse"))&&(!this.isSelected&&this.isActive||this.isSelected&&this.isMouseActive)}},{key:"isSliderLabelsActive",get:function(){return!(this.OverlayService.get("subscribe")||this.OverlayService.get("about")||this.OverlayService.get("browse"))&&this.isSelected&&this.isMouseActive}},{key:"isSliderDimmerActive",get:function(){return!(this.OverlayService.get("subscribe")||this.OverlayService.get("about")||this.OverlayService.get("browse"))&&this.isMouseActive||this.isActive&&!this.isSelected}},{key:"classes",get:function(){return{"is-active":this.isActive,"is-adjacent":this.isAdjacent,"is-after":this.isAfter,"is-before":this.isBefore,"is-current":this.isCurrent,"is-hidden":this.isHidden,"is-selected":this.isSelected}}}]),e}();n["default"]=r},{}],18:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./collection-slider-item-component-controller"),r=i(o),l={bindings:{index:"<",item:"<",loadCondition:"<"},controller:r["default"],templateUrl:"components/collection-slider-item/collection-slider-item-component.html",require:{parent:"^collectionSlider"}};n["default"]=l},{"./collection-slider-item-component-controller":17}],19:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.initialIndex=this.initialIndex||0,this.initialChild=this.initialChild||0,this.collectionItems=this.collectionItems||[],this.sliderOptions=this.sliderOptions||{direction:"vertical",keyboardControl:!0,mousewheelControl:!0,mousewheelForceToAxis:!0,mousewheelInvert:!0,mousewheelSensitivity:.01,onlyExternal:!0,speed:800},this.currentIndex=0,this.currentChild=0,this.activeIndex=null,this.selectedIndex=null}return o(e,null,[{key:"$inject",get:function(){return[]}}]),o(e,[{key:"$onChanges",value:function(){this.currentIndex=this.initialIndex,this.activeIndex=this.initialIndex,this.selectedIndex=this.initialIndex}},{key:"setCurrentIndex",value:function(e){this.currentIndex=e,this.activeIndex=this.selectedIndex=this.currentChild=null}},{key:"setActiveIndex",value:function(e){this.activeIndex=e}},{key:"setSelectedIndex",value:function(e){this.selectedIndex=e}},{key:"setCurrentChild",value:function(e){this.currentChild=e}},{key:"getSlideLoadCondition",value:function(e){return Math.abs(this.activeIndex-e)<=1}},{key:"onIsMouseActive",value:function(e){e||this.selectedIndex||this.setSelectedIndex(this.activeIndex)}}]),e}();n["default"]=r},{}],20:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./collection-slider-component-controller"),r=i(o),l={bindings:{initialIndex:"<",initialChild:"<",collectionItems:"<",sliderOptions:"<"},controller:r["default"],templateUrl:"components/collection-slider/collection-slider-component.html"};n["default"]=l},{"./collection-slider-component-controller":19}],21:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.$state=t,this.CollectionService=n,this.slug=this.slug||"collection-of-collection",this.onLoaded=this.onLoaded||angular.noop,this.onNotFound=this.onNotFound||angular.noop,this.onError=this.onError||angular.noop,this.collectionItems=[],this.initialIndex=null}return o(e,null,[{key:"$inject",get:function(){return["$state","platformjs.collection"]}}]),o(e,[{key:"$onInit",value:function(){var e=this;this.loadCollection(this.slug).then(function(t){return e.processCollection(t)}).then(function(t){return e.showCollectionItems(t)})["catch"](function(t){return e.showError(t)})}},{key:"loadCollection",value:function(e){return this.CollectionService.getItems({slug:e})}},{key:"processCollection",value:function(e){var t=e.collectionItems.map(function(e){return e.item}),n=t.map(function(e){return e.slug}).indexOf(this.initialSlug);return this.initialSlug&&-1===n?this.onNotFound():this.initialIndex=Math.max(n,0),t}},{key:"showCollectionItems",value:function(e){this.collectionItems=e,this.onLoaded()}},{key:"showError",value:function(e){this.onError({error:e})}}]),e}();n["default"]=r},{}],22:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./collection-slider-container-controller"),r=i(o),l={bindings:{slug:"<",initialSlug:"<",initialChild:"<",onLoaded:"&",onError:"&",onNotFound:"&"},controller:r["default"],templateUrl:"components/collection-slider/collection-slider-container.html"};n["default"]=l},{"./collection-slider-container-controller":21}],23:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./email-capture-form-controller"),r=i(o),l={bindings:{onSuccess:"&",onFailure:"&"},controller:r["default"],templateUrl:"components/email-capture-form/email-capture-form.html"};n["default"]=l},{"./email-capture-form-controller":24}],24:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o){i(this,e),this.$timeout=n,this.$http=t,this.EmailCaptureService=o,this.onSuccess=this.onSuccess||angular.noop,this.onFailure=this.onFailure||angular.noop,this.email="",this.isComplete=!1,this.isFailed=!1,this.isSubmitting=!1}return o(e,null,[{key:"$inject",get:function(){return["$http","$timeout","EmailCaptureService"]}}]),o(e,[{key:"submit",value:function(){var e=this;this.isComplete=!1,this.isFailed=!1,this.isSubmitting=!0,this.EmailCaptureService.capture(this.email).then(function(){return e.showComplete()})["catch"](function(){return e.showFailure()})["finally"](function(){return e.isSubmitting=!1})}},{key:"showComplete",value:function(){this.isComplete=!0,this.onSuccess()}},{key:"showFailure",value:function(){this.isFailed=!0,this.onFailure()}}]),e}();n["default"]=r},{}],25:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./get-the-link-controller"),r=i(o),l={bindings:{seriesId:"<",seriesUrl:"=",onSuccess:"&",onFailure:"&"},controller:r["default"],controllerAs:"$ctrl",template:'<span class="mo-button mo-button--small mo-button--pulse mo-button--bottom mo-button--center" ng-click="$ctrl.copySeriesUrl()">get the link</span>'};n["default"]=l},{"./get-the-link-controller":26}],26:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.$location=t,this.clipboard=n,this.onSuccess=this.onSuccess||angular.noop,this.onFailure=this.onFailure||angular.noop}return o(e,null,[{key:"$inject",get:function(){return["$location","clipboard"]}}]),o(e,[{key:"copySeriesUrl",value:function(){this.seriesUrl=this.$location.protocol()+"://"+this.$location.host()+"/watch/"+this.seriesId,this.clipboard.supported?(this.clipboard.copyText(this.seriesUrl),this.onSuccess()):this.onFailure()}}]),e}();n["default"]=r},{}],27:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./image-loader-controller"),r=i(o),l={bindings:{source:"<",onLoading:"&",onLoaded:"&",onFailure:"&"},controller:r["default"],template:'<div class="image-loader" ng-if="$ctrl.isImageLoaded" ng-style="$ctrl.styles"></div>'};n["default"]=l},{"./image-loader-controller":28}],28:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.$timeout=t,this.onLoading=this.onLoading||angular.noop,this.onLoaded=this.onLoaded||angular.noop,this.onFailure=this.onFailure||angular.noop,this.source=this.source||null,this.isImageLoaded=!1,this.isImageFailed=!1}return o(e,null,[{key:"$inject",get:function(){return["$timeout"]}}]),o(e,[{key:"$onChanges",value:function(e){e.source&&e.source.currentValue&&this.loadImage(e.source.currentValue)}},{key:"loadImage",value:function(e){var t=this;this.isImageLoaded=!1,this.onLoading();var n=new Image;n.onLoad=this.$timeout(function(){return t.onImageLoaded()}),n.onError=this.$timeout(function(){return t.onImageError()}),n.src=e}},{key:"onImageLoaded",value:function(){this.isImageLoaded=!0,this.onLoaded()}},{key:"onImageError",value:function(){this.isImageFailed=!0,this.onFailure()}},{key:"styles",get:function(){return{"background-image":"url("+this.source+")"}}}]),e}();n["default"]=r},{}],29:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./intro-overlay-controller"),r=i(o),l={bindings:{isLoaded:"<",isNotFound:"<",isFailed:"<"},controller:r["default"],templateUrl:"components/intro-overlay/intro-overlay.html"};n["default"]=l},{"./intro-overlay-controller":30}],30:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("components/overlay/generic-overlay-controller"),u=i(a),c=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.$timeout=n,i.minimumTimeDuration=2800,i.closeTimeDuration=6750,i.isLoaded=i.isLoaded||!1,i.isNotFound=i.isNotFound||!1,i.isFailed=i.isFailed||!1,i.minimumTimePassed=!1,i.overlayKey="intro",i.facts=["Before color TV, 12% of people dreamed in black and white.","The average human spends 6 years of her life dreaming.","Jellyfish don't have brains, but some have eyes.","Your brain creates 50,000 thoughts per day.","The human brain feels like soft tofu.","An octopus has six arms (the other two are legs)."],
i}return l(t,e),s(t,null,[{key:"$inject",get:function(){return["OverlayService","$timeout"]}}]),s(t,[{key:"$onInit",value:function(){var e=this;this.$timeout(function(){return e.minimumTimePassed=!0},this.minimumTimeDuration),this.randomFact=this.facts[Math.floor(Math.random()*this.facts.length)]}},{key:"$onChanges",value:function(e){var t=this;e.isLoaded&&e.isLoaded.currentValue===!0&&this.$timeout(function(){return t.close()},this.closeTimeDuration)}},{key:"classes",get:function(){return{"is-loaded":this.isLoaded&&this.minimumTimePassed}}}]),t}(u["default"]);n["default"]=c},{"components/overlay/generic-overlay-controller":37}],31:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o){i(this,e),this.$document=t,this.$timeout=n,this.$parse=o}return o(e,null,[{key:"$inject",get:function(){return["$document","$timeout","$parse"]}}]),e}(),l=function(){function e(){i(this,e),this.controller=r}return o(e,null,[{key:"$inject",get:function(){return[]}}]),o(e,[{key:"link",value:function(e,t,n,i){var o=+n.mouseActiveDelay||2e3,r="mousemove mousedown DOMMouseScroll mousewheel onmousewheel touchstart";e.onMouseMoveInit=function(){t.unbind(r,e.onMouseMoveInit),e.executeMethod(!0)},e.resetTimer=function(){i.$timeout.cancel(e.timer),e.timer=i.$timeout(e.onTimerEnd,o)},e.onTimerEnd=function(){t.bind(r,e.onMouseMoveInit),e.executeMethod(!1)},e.executeMethod=function(t){e.$apply(function(){i.$parse(n.isMouseActive)(e,{isActive:t})})},t.bind(r,e.onMouseMoveInit),t.bind(r,e.resetTimer)}}]),e}();n["default"]=l},{}],32:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./mobile-wall-controller"),r=i(o),l={controller:r["default"],templateUrl:"components/mobile-wall/mobile-wall.html"};n["default"]=l},{"./mobile-wall-controller":33}],33:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.signupSuccess=!1}return o(e,null,[{key:"$inject",get:function(){return[]}}]),o(e,[{key:"showSignupSuccess",value:function(){this.signupSuccess=!0}}]),e}();n["default"]=r},{}],34:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o,r,l,s){i(this,e),this.$element=t,this.$timeout=n,this.videojs=o,this.VideoService=r,this.UserAgentService=l,this.VideoAnalyticsService=s,this.onEnded=this.onEnded||angular.noop,this.onStarted=this.onStarted||angular.noop,this.onLoading=this.onLoading||angular.noop,this.onLoaded=this.onLoaded||angular.noop,this.fadeInDuration=this.fadeInDuration||3e3,this.fadeOutDuration=this.fadeOutDuration||1e3,this.defaults={autoplay:!0,controlBar:!1,controls:!1,errorDisplay:!1,html5:{nativeTextTracks:!1},loop:!1},this.player=null,this.fader=null,this.progress=0}return o(e,null,[{key:"$inject",get:function(){return["$element","$timeout","videojs","platformjs.video","UserAgentService","VideoAnalyticsService"]}}]),o(e,[{key:"$onChanges",value:function(e){e.seriesId&&e.seriesId.currentValue&&this.initialize(this.seriesId),this.player&&(e.isMuted&&e.isMuted.currentValue?this.player.muted(!0):this.player.muted(!1))}},{key:"$onDestroy",value:function(){var e=this;this.VideoAnalyticsService.track("watch",this.seriesId,this.progress,this.player.currentTime()),this.fadeVolume(0,this.fadeOutDuration),this.$timeout(function(){return e.destroyPlayer()},this.fadeOutDuration)}},{key:"initialize",value:function(e){var t=this;this.$timeout(function(){return t.destroyPlayer()}),this.onLoading(),this.$timeout(function(){return t.initializePlayer()}).then(function(){return t.preparePlayer()}).then(function(){return t.loadStream(e)}).then(function(e){return t.playStream(e)})}},{key:"initializePlayer",value:function(){var e=this.$element.find("video")[0];this.player=this.videojs(e,this.defaults),this.player.on("loadstart",this.onLoadStart)}},{key:"destroyPlayer",value:function(){this.player&&(this.player.dispose(),this.player=null)}},{key:"preparePlayer",value:function(){var e=this;this.player.volume(0),this.player.on("loadeddata",function(t){return e.onVideoLoaded()}),this.player.one("timeupdate",function(t){return e.onVideoStarted()}),this.player.on("timeupdate",function(t){return e.onVideoTimeUpdate()}),this.player.one("timeupdate",function(t){return e.trackProgress()}),this.player.on("error",function(t){return e.onVideoError()})}},{key:"loadStream",value:function(e){var t={seriesId:e,episodeNumber:1,streamType:"hls",cdn:"edgecast"};return this.VideoService.getStream(t)}},{key:"playStream",value:function(e){var t={src:e.url,type:"application/x-mpegURL"};this.player.src(t)}},{key:"fadeVolume",value:function(e,t){var n=this;e=e||0,t=t||this.fadeOutDuration,clearInterval(this.fader);var i=t/30,o=0,r=(e-this.player.volume())/i;this.fader=setInterval(function(){return null===n.player||o===i?clearInterval(n.fader):(n.player.volume(n.player.volume()+r),void o++)},30)}},{key:"onVideoLoaded",value:function(){var e=this;this.$timeout(function(){return e.onLoaded()})}},{key:"onVideoStarted",value:function(){var e=this;this.VideoAnalyticsService.track("play",this.seriesId,this.progress,this.player.currentTime()-this.progress),this.fadeVolume(1,this.fadeInDuration),this.$timeout(function(){return e.onStarted()})}},{key:"onVideoTimeUpdate",value:function(){var e=this,t=this.player.currentTime(),n=this.player.duration();n>0&&n-t<this.fadeOutDuration/1e3&&(this.player.off(),this.$timeout(function(){return e.onEnded()}))}},{key:"onVideoError",value:function(e){var t=this;this.$timeout(function(){return t.onError({error:e})})}},{key:"onLoadStart",value:function(){var e=this.tech({IWillNotUseThisInPlugins:!0}).hls;"undefined"!=typeof e&&null!==e&&(e.bandwidth=8388608)}},{key:"trackProgress",value:function(){var e=this;this.VideoAnalyticsService.track("watch",this.seriesId,this.progress,this.player.currentTime()),this.progress=this.player.currentTime(),this.$timeout(function(){e.player&&e.player.one("timeupdate",function(){return e.trackProgress()})},6e4)}}]),e}();n["default"]=r},{}],35:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./moodica-player-component-controller"),r=i(o),l={bindings:{seriesId:"<",isMuted:"<",onLoading:"&",onEnded:"&",onLoaded:"&",onError:"&"},controller:r["default"],templateUrl:"components/moodica-player/moodica-player-component.html"};n["default"]=l},{"./moodica-player-component-controller":34}],36:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i={bindings:{isSliderLabelsActive:"<",isMuted:"<"},templateUrl:"components/mute-button/mute-button-component.html"};n["default"]=i},{}],37:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t){i(this,e),this.OverlayService=t,this.overlayKey="generic"}return o(e,null,[{key:"$inject",get:function(){return["OverlayService"]}}]),o(e,[{key:"close",value:function(){this.OverlayService.close(this.overlayKey)}},{key:"isOpen",get:function(){return this.OverlayService.get(this.overlayKey)}}]),e}();n["default"]=r},{}],38:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./subscribe-overlay-controller"),r=i(o),l={controller:r["default"],templateUrl:"components/subscribe-overlay/subscribe-overlay.html"};n["default"]=l},{"./subscribe-overlay-controller":39}],39:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.$timeout=t,this.OverlayService=n,this.overlayKey="subscribe",this.closeDelayDuration=3e3}return o(e,null,[{key:"$inject",get:function(){return["$timeout","OverlayService"]}}]),o(e,[{key:"close",value:function(){this.OverlayService.close(this.overlayKey)}},{key:"onEmailSuccess",value:function(){var e=this;this.$timeout(function(){return e.close()},this.closeDelayDuration)}},{key:"isOpen",get:function(){return this.OverlayService.get(this.overlayKey)}}]),e}();n["default"]=r},{}],40:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.require="^touchSlider",this.scope={},this.transclude=!0,this.replace=!0,this.template='<div class="touch-slider__slide" ng-transclude></div>'}return o(e,null,[{key:"$inject",get:function(){return[]}}]),o(e,[{key:"link",value:function(e,t,n,i){e.$parent.$last&&i.initialize()}}]),e}();n["default"]=r},{}],41:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){var o=this;i(this,e),this.$element=t,this.$timeout=n,this.onReady=this.onReady||angular.noop,this.onSlideEnd=this.onSlideEnd||angular.noop,this.onSlideStart=this.onSlideStart||angular.noop,this.options=this.options||{},this.defaults={onInit:function(e){return o.onInit(e)},onTransitionStart:function(e){return o.onSlideChangeStart(e)},onTransitionEnd:function(e){return o.onSlideChangeEnd(e)},wrapperClass:"touch-slider__frame",slideClass:"touch-slider__slide",runCallbacksOnInit:!1,disableScroll:!0,speed:600},this.instance=null}return o(e,null,[{key:"$inject",get:function(){return["$element","$timeout"]}}]),o(e,[{key:"initialize",value:function(){var e=this.$element.children()[0],t=angular.merge({},this.defaults,this.options,{initialSlide:this.initialSlide});this.instance=new window.Swiper(e,t)}},{key:"onInit",value:function(e){var t=this;this.$timeout(function(){return t.onReady({slider:e})})}},{key:"onSlideChangeStart",value:function(e){var t=this;this.options.mousewheelControl&&e.disableMousewheelControl(),this.$timeout(function(){return t.onSlideStart({index:e.activeIndex})})}},{key:"onSlideChangeEnd",value:function(e){var t=this;this.options.mousewheelControl&&this.$timeout(function(){return e.enableMousewheelControl()},e.params.speed),this.$timeout(function(){return t.onSlideEnd({index:e.activeIndex})})}},{key:"classes",get:function(){return{"is-vertical":"vertical"===this.options.direction}}}]),e}();n["default"]=r},{}],42:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./touch-slider-component-controller"),r=i(o),l={bindings:{options:"<",initialSlide:"<",onReady:"&",onSlideStart:"&",onSlideEnd:"&"},controller:r["default"],templateUrl:"components/touch-slider/touch-slider-component.html",transclude:!0};n["default"]=l},{"./touch-slider-component-controller":41}],43:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.location=t,this.MetaDataService=n}return o(e,null,[{key:"$inject",get:function(){return["$location","platformjs.metadata"]}}]),o(e,[{key:"meta",value:function(){return this.MetaDataService.getData()}}]),e}();n["default"]=r},{}],44:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("filters/build-path/build-path-filter.module"),r=i(o),l=angular.module("moodica.filters",[]).filter("buildPath",r["default"]);n["default"]=l},{"filters/build-path/build-path-filter.module":3}],45:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o){i(this,e),this.$http=t,this.$window=n,this.UserLoginService=o}return o(e,null,[{key:"$inject",get:function(){return["$http","$window","platformjs.user.login"]}}]),o(e,[{key:"capture",value:function(e){return this.UserLoginService.create(void 0,e,this.$window.uuid.v4())}}]),e}();n["default"]=r},{}],46:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o){i(this,e),this.$window=t,this.BookmarksService=n,this.StorageService=o,this.browserId=this.$window.uuid.v4(),this.persistentUserId=this.StorageService.get("persistentUserId")||this.browserId,this.StorageService.set("persistentUserId",this.persistentUserId),this.playerVersion="Moodica Player v1"}return o(e,null,[{key:"$inject",get:function(){return["$window","platformjs.bookmarks","platformjs.storage"]}}]),o(e,[{key:"track",value:function(e,t,n,i){this.BookmarksService.logEvent({event:e,startTime:Math.round(n),endTime:Math.round(i),videoType:"video",seriesId:t,episodeNumber:1,browserId:this.browserId,sessionId:this.browserId,persistentUserId:this.persistentUserId,playerVersion:this.playerVersion})}}]),e}();n["default"]=r},{}],47:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("views/404/error-404-state"),r=i(o),l=e("views/home/home-state"),s=i(l),a=e("views/watch/watch-state"),u=i(a),c=e("views/collection/collection-state"),d=i(c),f=e("controllers/application-controller"),h=i(f),v=angular.module("moodica.views",[]).config(r["default"]).config(u["default"]).config(d["default"]).config(s["default"]).controller("ApplicationController",h["default"]);n["default"]=v},{"controllers/application-controller":43,"views/404/error-404-state":5,"views/collection/collection-state":48,"views/home/home-state":50,"views/watch/watch-state":52}],48:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){e.state("collection",{url:"/collection/:slug",controller:l["default"],controllerAs:"$ctrl",templateUrl:"views/collection/collection-view.html"})}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./collection-view-controller"),l=i(r);o.$inject=["$stateProvider"],n["default"]=o},{"./collection-view-controller":49}],49:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o,r,l,s,a){i(this,e),this.$q=t,this.$state=n,this.$stateParams=o,this.OverlayService=l,this.CollectionService=s,this.MetaDataService=a,this.isSliderItemNotFound=!1,this.screenfull=r.screenfull,this.initialIndex=0,this.sliderOptions={mousewheelControl:!1},this.collection={slug:""},this.showCollection.bind(this)}return o(e,null,[{key:"$inject",get:function(){return["$q","$state","$stateParams","$window","OverlayService","platformjs.collection","platformjs.metadata"]}}]),o(e,[{key:"$onInit",value:function(){var e=this;this.OverlayService.get("intro")!==!1&&this.OverlayService.open("intro"),this.loadCollection(this.getSlug()).then(function(t){return e.showCollection(t)})["catch"](function(){return e.showCollectionFailure()})["finally"](function(){return e.loadCollectionComplete()})}},{key:"getSlug",value:function(){return this.$stateParams.slug}},{key:"toggleFullscreen",value:function(){this.screenfull.toggle()}},{key:"loadCollection",value:function(e){var t=this.$q.all({collection:this.CollectionService.get({slug:e}),collectionItems:this.CollectionService.getItems({slug:e})});return t}},{key:"showCollection",value:function(e){var t=e.collection,n=e.collectionItems;t.collectionItems=n.collectionItems,this.collection=t;var i=t.title?t.title+" | Watch on Moodica":void 0,o="Free, relaxing videos to help you sleep, beautify your home or set the mood.";t.metadata.description["short"]&&""!==t.metadata.description["short"]&&"N/A"!==t.metadata.description["short"]&&(o=t.metadata.description["short"]);var r=void 0;t.collectionItems[0]&&t.collectionItems[0].item&&t.collectionItems[0].item.images&&t.collectionItems[0].item.images.poster&&t.collectionItems[0].item.images.poster.url&&(r=t.collectionItems[0].item.images.poster.url),this.MetaDataService.setData({title:i,description:o,image:r})}},{key:"showCollectionFailure",value:function(){this.$state.go("home")}},{key:"loadCollectionComplete",value:function(){this.isSliderLoaded=!0}},{key:"onMouseIsActive",value:function(e){this.isMouseActive=e}},{key:"isSliderLabelsActive",get:function(){return!this.OverlayService.get("subscribe")&&this.isMouseActive}}]),e}();n["default"]=r},{}],50:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){e.state("home",{url:"/",controller:l["default"],controllerAs:"$ctrl",templateUrl:"views/home/home-view.html"})}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./home-view-controller"),l=i(r);o.$inject=["$stateProvider"],n["default"]=o},{"./home-view-controller":51}],51:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o){i(this,e),this.$stateParams=t,this.OverlayService=n,this.MetaDataService=o,this.isSliderLoaded=!1,this.isSliderFailed=!1,this.isSliderItemNotFound=!1}return o(e,null,[{key:"$inject",get:function(){return["$stateParams","OverlayService","platformjs.metadata"]}}]),o(e,[{key:"$onInit",value:function(){this.OverlayService.open("intro"),this.MetaDataService.setData({title:"Watch Oddly Satisfying Videos on Moodica",description:"Watch relaxing videos that lift your mood, calm anxiety, help you sleep, or set the ambiance in any room. Moodica is free on desktop, Apple TV and Fire TV. Samsung coming soon."})}},{key:"onSliderLoaded",value:function(){this.isSliderLoaded=!0}},{key:"onSliderError",value:function(){this.isSliderFailed=!0}},{key:"onSliderItemNotFound",value:function(){this.isSliderItemNotFound=!0}}]),e}();n["default"]=r},{}],52:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){e.state("watch",{url:"/watch/{seriesId:int}",controller:l["default"],controllerAs:"$ctrl",templateUrl:"views/watch/watch-view.html"})}Object.defineProperty(n,"__esModule",{value:!0});var r=e("./watch-view-controller"),l=i(r);o.$inject=["$stateProvider"],n["default"]=o},{"./watch-view-controller":53}],53:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,o,r,l,s,a){i(this,e),this.$state=t,this.$stateParams=n,this.OverlayService=r,this.UserAgentService=l,this.SeriesService=s,this.MetaDataService=a,this.isSliderLoaded=!1,this.isSliderFailed=!1,this.isSliderItemNotFound=!1,this.screenfull=o.screenfull}return o(e,null,[{key:"$inject",get:function(){return["$state","$stateParams","$window","OverlayService","UserAgentService","platformjs.series","platformjs.metadata"]}}]),o(e,[{key:"$onInit",value:function(){var e=this;this.OverlayService.open("intro"),this.loadSeries(this.getSeriesId()).then(function(t){return e.showSeries(t)})["catch"](function(){return e.showSeriesFailure()})["finally"](function(){return e.loadSeriesComplete()}),this.isMuted=this.UserAgentService.isMobile()?!0:!1}},{key:"getSeriesId",value:function(){return this.$stateParams.seriesId}},{key:"toggleFullscreen",value:function(){this.screenfull.toggle()}},{key:"toggleMute",value:function(){this.isMuted=!this.isMuted}},{key:"loadSeries",value:function(e){return this.SeriesService.get(e)}},{key:"showSeries",value:function(e){this.series=e;var t=e.title+" | Watch on Moodica",n="Free, relaxing videos to help you sleep, beautify your home or set the mood.";""!==e.description["short"]&&"N/A"!==e.description["short"]&&(n=e.description["short"]);var i=void 0;e.images&&e.images.poster&&e.images.poster.url&&(i=e.images.poster.url),this.MetaDataService.setData({title:t,description:n,image:i})}},{key:"showSeriesFailure",value:function(){this.$state.go("home")}},{key:"loadSeriesComplete",value:function(){this.isSliderLoaded=!0}},{key:"onSliderLoaded",value:function(){this.isSliderLoaded=!0}},{key:"onSliderError",value:function(){this.isSliderFailed=!0}},{key:"onMouseIsActive",value:function(e){this.isMouseActive=e}},{key:"showBrowse",value:function(){this.OverlayService.close("about"),this.OverlayService.open("browse")}},{key:"isSliderDimmerActive",get:function(){return!this.OverlayService.get("subscribe")&&this.isMouseActive}},{key:"isSliderLabelsActive",get:function(){return!this.OverlayService.get("subscribe")&&this.isMouseActive}}]),e}();n["default"]=r},{}]},{},[7]);
//# sourceMappingURL=moodica-bundle.js.map